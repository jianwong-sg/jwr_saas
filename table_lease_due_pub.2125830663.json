{
	"orderInfo": [
		{
			"index": 4,
			"asc": false,
			"field": "lease_expiry"
		}
	],
	"sql": "SELECT\ncategory,\nprop_address,\nProp_kind,\nlease_expiry,\n`date` AS `date`,\nta_date,\nagency\nFROM transactions\nWHERE (category NOT IN ('SALE','JTC LEASE MANAGEMENT'))\nORDER BY lease_expiry DESC",
	"type": 1,
	"connId": "Tables",
	"originalTable": "transactions",
	"name": "lease_due_pub",
	"shortTableName": "lease_due_pub",
	"searchSuggest": false,
	"caseSensitiveSearch": "",
	"highlightSearchResults": false,
	"tableOwnerIdField": "category",
	"usersOwnerIdField": "active",
	"clickActions": {
		"row": {
			"codeData": {
				"snippet": null
			},
			"gridData": {
				"action": "checkbox",
				"table": null
			},
			"openData": {
				"how": "goto",
				"page": "view",
				"table": null,
				"url": ""
			}
		},
		"fields": {
			"Prop_kind": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"TOP": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"Unit_no": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"agency_fee": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"built_up": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"built_up_unit": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"category": {
				"codeData": {
					"snippet": null
				},
				"gridData": {
					"action": "checkbox",
					"table": "parties_involved",
					"tableGid": 1012154352
				},
				"openData": {
					"how": "goto",
					"page": "edit",
					"table": "parties_involved",
					"url": "",
					"tableGid": 1012154352
				}
			},
			"cdd_result": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"cea_reg": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"cobroke_comm": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"comm_amt": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"comm_earned": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"comm_earned_agency": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"comm_earned_percent_salesperson": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"comm_earned_salesperson": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"comm_gross": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"comm_gross_agency": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"comm_percent": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"comm_unit": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"commission": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"condition": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"currency": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"docuserid": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"est_completion_date": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"gst": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"gst_agency": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"gst_inclusive": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"gst_payable": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"id": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"land": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"land_unit": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"lease_duration_no": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"lease_duration_unit": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"lease_expiry": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"lease_start_date": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"loi_date": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"marketing_rights": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"no_bathrooms": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"no_bedrooms": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"option_exercise_date": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"option_money": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"otp_date": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"pps_cust": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"pps_result": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"prop_address": {
				"action": "open",
				"codeData": {
					"snippet": null
				},
				"gridData": {
					"action": "checkbox",
					"table": null
				},
				"openData": {
					"how": "popup",
					"page": "view",
					"table": null,
					"url": ""
				}
			},
			"prop_name": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"prop_postal": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"prop_type": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"rental_price": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"rental_price_type": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"representing": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"sale_price": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"salesperson_name": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"sls_cust": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"sls_result": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"sp_execution_date": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"ta_date": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"tenure": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"transacted_price": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			},
			"valuation_price": {
				"codeData": {
					"snippet": null
				},
				"gridData": {},
				"openData": {}
			}
		}
	},
	"hideEmptyFieldsOnView": true,
	"pageSizeRecords": 10,
	"pageSizeSelectorRecords": [
		"10",
		"20",
		"30",
		"50",
		"100",
		"500",
		"-1"
	],
	"pageSizeSelectorGroups": [
		"1",
		"3",
		"5",
		"10",
		"50",
		"100",
		"-1"
	],
	"chartSettings": {
		"accumulationAppearance": 1
	},
	"detailsBadgeColor": "FFAD5B",
	"fields": [
		{
			"name": "category",
			"sqlExpression": "category",
			"strField": "category",
			"googleLikeSearch": false,
			"type": 200,
			"viewFormats": [
				{
					"imageWidth": 457,
					"imageHeight": 0,
					"imageThumbWidth": 72,
					"imageThumbHeight": 72,
					"customExpression": "if ($value==$_SESSION[\"category\"])\n$value=\"\";\nelse\n$_SESSION[\"category\"]=$value;",
					"videoRewindEnabled": false,
					"textShowFirst": false
				}
			],
			"editFormats": [
				{
					"format": "Readonly",
					"textboxSize": 120,
					"textboxMaxLenth": 50,
					"textHTML5Input": "0",
					"lookupType": 2,
					"lookupValues": [
						"Sale",
						"Rental",
						"Assignment"
					],
					"lookupTable": "transact_type",
					"lookupTableConnection": "Tables",
					"lookupLinkField": "tx_type",
					"lookupDisplayField": "tx_type",
					"fileThumbnailSize": 150,
					"fileMaxNumber": 1,
					"fileThumbnailField": "th",
					"dateFirstYearFactor": 30,
					"dateLastYearFactor": 1,
					"timeConvention": 1
				}
			],
			"filterFormat": {
				"format": "Values list"
			},
			"searchOptions": [
				"Contains",
				"Equals",
				"Starts with",
				"Empty",
				"NOT Contains",
				"NOT Equals",
				"NOT Starts with",
				"NOT Empty"
			],
			"label": {
				"English": "Lease Type"
			},
			"tooltip": {
				"English": ""
			},
			"placeholder": {
				"English": ""
			},
			"tableName": "transactions"
		},
		{
			"name": "prop_address",
			"sqlExpression": "prop_address",
			"strField": "prop_address",
			"googleLikeSearch": false,
			"type": 200,
			"viewFormats": [
				{
					"imageWidth": 457,
					"imageHeight": 0,
					"imageThumbWidth": 72,
					"imageThumbHeight": 72,
					"customExpression": "if ($value==$_SESSION[\"prop_address\"])\n$value=\"\";\nelse\n$_SESSION[\"prop_address\"]=$value;",
					"videoRewindEnabled": false,
					"textShowFirst": false
				}
			],
			"editFormats": [
				{
					"format": "Readonly",
					"required": true,
					"textboxMaxLenth": 200,
					"textHTML5Input": "0",
					"textareaHeight": 50,
					"lookupType": 2,
					"lookupTable": "properties",
					"lookupTableConnection": "Tables",
					"lookupLinkField": "prop_address",
					"lookupDisplayField": "prop_address",
					"lookupAllowAdd": true,
					"fileThumbnailSize": 150,
					"fileMaxNumber": 1,
					"fileThumbnailField": "th",
					"dateFirstYearFactor": 30,
					"dateLastYearFactor": 1,
					"timeConvention": 1
				}
			],
			"filterFormat": {
				"format": "Values list"
			},
			"label": {
				"English": "Address"
			},
			"tooltip": {
				"English": ""
			},
			"placeholder": {
				"English": ""
			},
			"tableName": "transactions"
		},
		{
			"name": "Prop_kind",
			"sqlExpression": "Prop_kind",
			"strField": "Prop_kind",
			"googleLikeSearch": false,
			"type": 200,
			"viewFormats": [
				{
					"imageWidth": 457,
					"imageHeight": 0,
					"imageThumbWidth": 72,
					"imageThumbHeight": 72,
					"customExpression": "if ($value==$_SESSION[\"Prop_kind\"])\n$value=\"\";\nelse\n$_SESSION[\"Prop_kind\"]=$value;",
					"videoRewindEnabled": false,
					"textShowFirst": false
				}
			],
			"editFormats": [
				{
					"format": "Readonly",
					"textboxSize": 250,
					"textboxMaxLenth": 50,
					"textHTML5Input": "0",
					"lookupType": 2,
					"lookupTable": "properties",
					"lookupTableConnection": "Tables",
					"lookupLinkField": "kind",
					"lookupDisplayField": "kind",
					"lookupControlType": 1,
					"lookupDependent": true,
					"lookupDependentFields": [
						{
							"masterField": "prop_address",
							"lookupField": "prop_address"
						}
					],
					"fileThumbnailSize": 150,
					"fileMaxNumber": 1,
					"fileThumbnailField": "th",
					"dateFirstYearFactor": 30,
					"dateLastYearFactor": 1,
					"timeConvention": 1
				}
			],
			"filterFormat": {
				"format": "Values list"
			},
			"searchOptions": [
				"Contains",
				"Equals",
				"Starts with",
				"Empty",
				"NOT Contains",
				"NOT Equals",
				"NOT Starts with",
				"NOT Empty"
			],
			"label": {
				"English": "Kind"
			},
			"tooltip": {
				"English": ""
			},
			"placeholder": {
				"English": ""
			},
			"tableName": "transactions"
		},
		{
			"name": "lease_expiry",
			"sqlExpression": "lease_expiry",
			"strField": "lease_expiry",
			"googleLikeSearch": false,
			"type": 7,
			"viewFormats": [
				{
					"format": "Short Date",
					"imageWidth": 457,
					"imageHeight": 0,
					"imageThumbWidth": 72,
					"imageThumbHeight": 72,
					"customExpression": "if ($value==$_SESSION[\"lease_expiry\"])\n$value=\"\";\nelse\n$_SESSION[\"lease_expiry\"]=$value;",
					"videoRewindEnabled": false,
					"textShowFirst": false
				}
			],
			"editFormats": [
				{
					"format": "Readonly",
					"textboxSize": 100,
					"textHTML5Input": "0",
					"fileThumbnailSize": 150,
					"fileMaxNumber": 1,
					"fileThumbnailField": "th",
					"dateEditType": 2,
					"dateFirstYearFactor": 30,
					"dateLastYearFactor": 1,
					"timeConvention": 1
				}
			],
			"filterFormat": {
				"format": "Values list"
			},
			"defaultSearchOption": "Between",
			"label": {
				"English": "Expiry Date"
			},
			"tooltip": {
				"English": ""
			},
			"placeholder": {
				"English": ""
			},
			"tableName": "transactions"
		},
		{
			"name": "date",
			"sqlExpression": "`date`",
			"strField": "date",
			"type": 7,
			"viewFormats": [
				{
					"format": "Short Date",
					"imageWidth": 457,
					"imageHeight": 0,
					"imageThumbWidth": 72,
					"imageThumbHeight": 72,
					"videoRewindEnabled": false,
					"textShowFirst": false
				}
			],
			"editFormats": [
				{
					"format": "Date",
					"required": true,
					"defaultValue": "now()",
					"textboxSize": 120,
					"textHTML5Input": "0",
					"fileThumbnailSize": 150,
					"fileMaxNumber": 1,
					"fileThumbnailField": "th",
					"dateEditType": 2,
					"dateFirstYearFactor": 30,
					"dateLastYearFactor": 1,
					"timeConvention": 1
				}
			],
			"filterFormat": {
				"format": "Values list"
			},
			"sourceSingle": "date",
			"label": {
				"English": "Date"
			},
			"tooltip": {
				"English": ""
			},
			"placeholder": {
				"English": ""
			},
			"tableName": "transactions"
		},
		{
			"name": "ta_date",
			"sqlExpression": "ta_date",
			"strField": "ta_date",
			"type": 7,
			"viewFormats": [
				{
					"format": "Short Date",
					"imageWidth": 457,
					"imageHeight": 0,
					"imageThumbWidth": 72,
					"imageThumbHeight": 72,
					"videoRewindEnabled": false,
					"textShowFirst": false
				}
			],
			"editFormats": [
				{
					"format": "Date",
					"validateRegexMessage": {
						"text": "",
						"type": 0
					},
					"textHTML5Input": "0",
					"fileThumbnailSize": 150,
					"fileMaxNumber": 1,
					"fileThumbnailField": "th",
					"dateEditType": 11,
					"dateFirstYearFactor": 30,
					"dateLastYearFactor": 1,
					"timeConvention": 1
				}
			],
			"filterFormat": {
				"format": "Values list"
			},
			"sourceSingle": "ta_date",
			"label": {
				"English": "TA Date"
			},
			"tooltip": {
				"English": ""
			},
			"placeholder": {
				"English": ""
			},
			"tableName": "transactions"
		},
		{
			"name": "agency",
			"sqlExpression": "agency",
			"strField": "agency",
			"type": 200,
			"separateEditViewFormats": true,
			"viewFormats": [
				{
					"imageWidth": 457,
					"imageHeight": 0,
					"imageThumbWidth": 72,
					"imageThumbHeight": 72,
					"videoRewindEnabled": false,
					"textShowFirst": false
				},
				{
					"pageType": "list",
					"imageWidth": 457,
					"imageHeight": 0,
					"imageThumbWidth": 72,
					"imageThumbHeight": 72,
					"videoRewindEnabled": false,
					"textShowFirst": false
				},
				{
					"pageType": "print",
					"imageWidth": 457,
					"imageHeight": 0,
					"imageThumbWidth": 72,
					"imageThumbHeight": 72,
					"videoRewindEnabled": false,
					"textShowFirst": false
				},
				{
					"pageType": "export",
					"imageWidth": 457,
					"imageHeight": 0,
					"imageThumbWidth": 72,
					"imageThumbHeight": 72,
					"videoRewindEnabled": false,
					"textShowFirst": false
				}
			],
			"editFormats": [
				{
					"format": "Readonly",
					"defaultValue": "$_SESSION[\"agency\"]",
					"autoUpdateValue": "$_SESSION[\"agency\"]",
					"textboxSize": 150,
					"textboxMaxLenth": 50,
					"textHTML5Input": "0",
					"fileThumbnailSize": 150,
					"fileMaxNumber": 1,
					"fileThumbnailField": "th",
					"dateFirstYearFactor": 30,
					"dateLastYearFactor": 1,
					"timeConvention": 1
				},
				{
					"format": "Readonly",
					"pageType": "add",
					"defaultValue": "$_SESSION[\"agency\"]",
					"textboxSize": 150,
					"textboxMaxLenth": 50,
					"textHTML5Input": "0",
					"fileThumbnailSize": 150,
					"fileMaxNumber": 1,
					"fileThumbnailField": "th",
					"timeConvention": 1
				},
				{
					"format": "Readonly",
					"pageType": "search",
					"defaultValue": "$_SESSION[\"agency\"]",
					"textboxSize": 150,
					"textboxMaxLenth": 50,
					"textHTML5Input": "0",
					"fileThumbnailSize": 150,
					"fileMaxNumber": 1,
					"fileThumbnailField": "th",
					"timeConvention": 1
				}
			],
			"filterFormat": {
				"format": "Values list"
			},
			"sourceSingle": "agency",
			"defaultSearchOption": "Contains",
			"label": {
				"English": "Agency"
			},
			"tooltip": {
				"English": ""
			},
			"placeholder": {
				"English": ""
			},
			"tableName": "transactions"
		}
	],
	"warnLeavingEdit": true,
	"afterEditAction": 0,
	"afterEditDetails": 14,
	"afterAddAction": 3,
	"afterAddDetail": 14,
	"whereTabs": [
		{}
	],
	"eventHandlers": [
		{
			"eventId": "EVENT_JS_ONLOAD",
			"pageType": "add",
			"code": "//hide controls in transaction\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"salesperson_name\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"agency\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.hideField(\"representing\");\npageObj.hideField(\"marketing_rights\");\npageObj.hideField(\"currency\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\n$(\".property_info\").hide()\n$(\".save_button\").hide()\n\nvar ctrlCat = Runner.getControl(pageid, 'category');\nvar ctrlSubCat = Runner.getControl(pageid, 'sub_category');\nvar ctrlRepresnt = Runner.getControl(pageid, 'representing');\nvar ctrlMarketing = Runner.getControl(pageid, 'marketing_rights');\nvar ctrlSalePrice = Runner.getControl(pageid, 'sale_price');\nvar ctrlValuation = Runner.getControl(pageid, 'valuation_price');\nvar ctrlOption = Runner.getControl(pageid, 'option_money');\nvar ctrlOtpDate = Runner.getControl(pageid, 'otp_date');\nvar ctrlOtpExeDate = Runner.getControl(pageid, 'option_exercise_date');\nvar ctrlEstCompletion = Runner.getControl(pageid, 'est_completion_date');\nvar ctrlSpExeDate = Runner.getControl(pageid, 'sp_execution_date');\nvar ctrlLOI = Runner.getControl(pageid, 'loi_date');\nvar ctrlRental = Runner.getControl(pageid, 'rental_price');\nvar ctrlRentPriceType = Runner.getControl(pageid, 'rental_price_type');\nvar ctrlTADate = Runner.getControl(pageid, 'ta_date');\nvar ctrlLeaseDuration = Runner.getControl(pageid, 'lease_duration_no');\nvar ctrlLeaseDuUnit = Runner.getControl(pageid, 'lease_duration_unit');\nvar ctrlLeaseStart = Runner.getControl(pageid, 'lease_start_date');\nvar ctrlLeaseEnd = Runner.getControl(pageid, 'lease_expiry');\nvar ctrlManageFee = Runner.getControl(pageid, 'management_fee');\nvar ctrlAgency = Runner.getControl(pageid, 'agency');\nvar ctrlCommenceDate = Runner.getControl(pageid, 'commencement_date');\nvar ctrlEndDate = Runner.getControl(pageid, 'end_date');\nvar ctrlConsultFee = Runner.getControl(pageid, 'consultation_fee');\nvar ctrlServCommence = Runner.getControl(pageid, 'service_commencement');\nvar ctrlServComplete = Runner.getControl(pageid, 'service_completion');\nvar ctrlResult = Runner.getControl(pageid, 'result');\nvar ctrlStatus = Runner.getControl(pageid, 'status');\n\n\nctrlCat.on('change', function(e) {\nif (this.getValue() == 'SALE') \n{\n$(\".property_info\").show()\n$(\".save_button\").show()\npageObj.showField(\"salesperson_name\");\npageObj.hideField(\"agency\");\npageObj.showField(\"representing\");\npageObj.showField(\"marketing_rights\");\npageObj.showField(\"currency\");\npageObj.showField(\"sale_price\");\npageObj.showField(\"valuation_price\");\npageObj.showField(\"option_money\");\npageObj.showField(\"otp_date\");\npageObj.showField(\"option_exercise_date\");\npageObj.showField(\"est_completion_date\");\npageObj.showField(\"sp_execution_date\");\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.hideField(\"agency\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\n\nctrlRepresnt.setValue('');\nctrlMarketing.setValue('');\nctrlSalePrice.setValue('');\nctrlValuation.setValue('');\nctrlOption.setValue('');\nctrlOtpDate.setValue('');\nctrlOtpExeDate.setValue('');\nctrlEstCompletion.setValue('');\nctrlSpExeDate.setValue('');\nctrlRental.removeValidation('IsRequired');\t\t\nctrlRentPriceType.removeValidation('IsRequired');\n}\nif (this.getValue() == 'RENTAL' || this.getValue() == 'ASSIGNMENT'||this.getValue() == 'ROOM RENTAL')\n{\n$(\".property_info\").show()\n$(\".save_button\").show()\npageObj.showField(\"salesperson_name\");\npageObj.hideField(\"agency\");\npageObj.showField(\"representing\");\npageObj.showField(\"marketing_rights\");\npageObj.showField(\"currency\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.showField(\"loi_date\");\npageObj.showField(\"rental_price\");\npageObj.showField(\"rental_price_type\");\npageObj.showField(\"ta_date\");\npageObj.showField(\"lease_duration_no\");\npageObj.showField(\"lease_duration_unit\");\npageObj.showField(\"lease_start_date\");\npageObj.showField(\"lease_expiry\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\n\nctrlRepresnt.setValue('');\nctrlMarketing.setValue('');\nctrlLOI.setValue('');\nctrlRental.setValue('');\nctrlRentPriceType.setValue('');\nctrlTADate.setValue('');\nctrlLeaseDuration.setValue('');\nctrlLeaseDuUnit.setValue('');\nctrlLeaseStart.setValue('');\nctrlLeaseEnd.setValue('');\nctrlSalePrice.removeValidation('IsRequired');\n}\nif (this.getValue() == 'PROPERTY MANAGEMENT')\n{\n$(\".property_info\").show()\n$(\".save_button\").show()\npageObj.hideField(\"salesperson_name\");\npageObj.showField(\"agency\");\npageObj.showField(\"representing\");\npageObj.hideField(\"marketing_rights\");\npageObj.showField(\"currency\");\npageObj.showField(\"management_fee\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.showField(\"commencement_date\");\npageObj.showField(\"end_date\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\n\nctrlRepresnt.setValue('');\nctrlManageFee.setValue('');\nctrlCommenceDate.setValue('');\nctrlEndDate.setValue('');\nctrlLeaseDuUnit.setValue('');\nctrlLeaseStart.setValue('');\nctrlLeaseEnd.setValue('');\nctrlSalePrice.removeValidation('IsRequired');\nctrlRental.removeValidation('IsRequired');\t\t\nctrlRentPriceType.removeValidation('IsRequired');\n}\n\nif (this.getValue() == 'JTC LEASE MANAGEMENT')\n{\n$(\".property_info\").show()\n$(\".save_button\").show()\npageObj.showField(\"salesperson_name\");\npageObj.hideField(\"agency\");\npageObj.showField(\"representing\");\npageObj.hideField(\"marketing_rights\");\npageObj.showField(\"currency\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.showField(\"sub_category\");\npageObj.showField(\"consultation_fee\");\npageObj.showField(\"service_commencement\");\npageObj.showField(\"service_completion\");\npageObj.showField(\"result\");\n\nctrlRepresnt.setValue('');\n//ctrlManageFee.setValue('');\n//ctrlCommenceDate.setValue('');\n//ctrlEndDate.setValue('');\nctrlLeaseDuUnit.setValue('');\nctrlLeaseStart.setValue('');\nctrlLeaseEnd.setValue('');\nctrlSubCat.setValue('');\nctrlConsultFee.setValue('');\nctrlServCommence.setValue('');\nctrlServComplete.setValue('');\nctrlResult.setValue('');\nctrlSalePrice.removeValidation('IsRequired');\nctrlRental.removeValidation('IsRequired');\t\t\nctrlRentPriceType.removeValidation('IsRequired');\nctrlSubCat.addValidation('IsRequired');\n}\n\n});\n\n//hide controls in property info\npageObj.hideField(\"built_up\");\npageObj.hideField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.hideField(\"no_bathrooms\");\npageObj.hideField(\"land\");\npageObj.hideField(\"land_unit\");\n\nvar ctrlPropType = Runner.getControl(pageid, 'prop_type');\nvar ctrlBuiltUp = Runner.getControl(pageid, 'built_up');\nvar ctrlBuiltUpUnit = Runner.getControl(pageid, 'built_up_unit');\nvar ctrlBedroom = Runner.getControl(pageid, 'no_bedrooms');\nvar ctrlBathroom = Runner.getControl(pageid, 'no_bathrooms');\nvar ctrlLand = Runner.getControl(pageid, 'land');\nvar ctrlLandUnit = Runner.getControl(pageid, 'land_unit');\n\nctrlPropType.on('change', function(e) {\nif (this.getValue() == 'HDB APARTMENT' || this.getValue() == 'APARTMENT / CONDO') {\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.showField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.hideField(\"land\");\npageObj.hideField(\"land_unit\");\nctrlBuiltUp.setValue('');\nctrlBuiltUpUnit.setValue('');\nctrlBedroom.setValue('');\nctrlBathroom.setValue('');\n}\n\nif (this.getValue() == 'LANDED HOUSE'){\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.showField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\nctrlBuiltUp.setValue('');\nctrlBuiltUpUnit.setValue('');\nctrlBedroom.setValue('');\nctrlBathroom.setValue('');\nctrlLand.setValue('');\nctrlLandUnit.setValue('');\n}\n\nif (this.getValue() == 'INDUSTRIAL'){\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.hideField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\nctrlBuiltUp.setValue('');\nctrlBuiltUpUnit.setValue('');\nctrlLand.setValue('');\nctrlLandUnit.setValue('');\n}\n\nif (this.getValue() == 'OFFICE'||this.getValue() == 'RETAIL'){\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.hideField(\"land\");\npageObj.hideField(\"land_unit\");\nctrlBuiltUp.setValue('');\nctrlBuiltUpUnit.setValue('');\nctrlBathroom.setValue('');\n}\n\nif (this.getValue() == 'LAND'){\npageObj.hideField(\"built_up\");\npageObj.hideField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.hideField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\nctrlLand.setValue('');\nctrlLandUnit.setValue('');\n}\n});\n\n// ===== Scroll to Top ==== \n$(window).scroll(function() {\nif ($(this).scrollTop() >= 50) {        // If page is scrolled more than 50px\n$('#return-to-top').fadeIn(200);    // Fade in the arrow\n} else {\n$('#return-to-top').fadeOut(200);   // Else fade out the arrow\n}\n});\n$('#return-to-top').click(function() {      // When arrow is clicked\n$('body,html').animate({\nscrollTop : 0                       // Scroll to top of body\n}, 500);\n});"
		},
		{
			"eventId": "EVENT_JS_ONLOAD",
			"pageType": "edit",
			"code": "//direct to anchor after page reload\nwindow.addEventListener('load', function () {\n      if (window.location.hash) {\n        var elements = document.querySelectorAll(window.location.hash);\n        if (elements[0]) {\n          elements[0].scrollIntoView({\n            behavior: 'smooth', // smooth scroll\n            block: 'start'\n          });\n        }\n      }\n    })\n\n//retain scroll position after reload\n document.addEventListener(\"DOMContentLoaded\", function (event) {\n        var scrollpos = sessionStorage.getItem('scrollpos');\n        if (scrollpos) {\n            window.scrollTo(0, scrollpos);\n            sessionStorage.removeItem('scrollpos');\n        }\n    });\n\n    window.addEventListener(\"beforeunload\", function (e) {\n        sessionStorage.setItem('scrollpos', window.scrollY);\n    });\n\n//hide check description\nvar ctrlSLSResult = Runner.getControl(pageid, 'sls_result');\nif(ctrlSLSResult.getValue()!='')\n{\n$(\".check_description_row\").hide()\n}\nctrlSLSResult.on('change', function(e) {\n  if (this.getValue() == '') \n{\n$(\".check_description_row\").show()\n}\n});\n                                                                     \n//fields readonly\n$(\"#value_comm_earned_agency_1\").attr('readonly',true);\n$(\"#value_gst_agency_1\").attr('readonly',true);\n$(\"#value_comm_gross_agency_1\").attr('readonly',true);\n$(\"#value_comm_earned_salesperson_1\").attr('readonly',true);\n$(\"#value_comm_earned_percent_salesperson_1\").attr('readonly',true);\n$(\"#value_transacted_price_1\").attr('readonly',true);\n$(\"#value_comm_nett_salesperson_1\").attr('readonly',true);\n$(\"#value_comm_to_agency_1\").attr('readonly',true);\n$(\"#value_comm_to_agency1_1\").attr('readonly',true);\n\n\n//populate result if record found in sis and hyperlink to list page\nvar x=$('[id^=value_sls_result_]').val();\nif(x=='No record found')\n{\n$('[id^=value_sls_result_]');                                                                                                                                                                                                                                                                                                                                                                                                                   \n}\nelse if(x=='Record found. Click to view record')\n{\n$('[id^=value_sls_result_]');\n$('[id^=edit1_sls_result_').contents().wrap('<a href=\"list_sis_list.php?q=(combined_name~contains~'+proxy['cddchecklistid']+')\" target=\"_blank\"></a>');\n}\n\n//populate result if record found pps and hyperlink to list page\nvar x=$('[id^=value_pps_result_]').val();\nif(x=='No record found')\n{\n$('[id^=value_pps_result_]');\n}\nelse if(x=='Record found. Click to view record')\n{\n$('[id^=value_pps_result_]');\n$('[id^=edit1_pps_result_').contents().wrap('<a href=\"list_pps_list.php?q=(name~equals~'+proxy['cddchecklistid']+')\" target=\"_blank\"></a>');\n}\n\n//hide controls in transaction\nvar ctrlCat = Runner.getControl(pageid, 'category');\nvar ctrlSubCat = Runner.getControl(pageid, 'sub_category');\nvar ctrlRepresent = Runner.getControl(pageid, 'representing');\nvar ctrlMarketing = Runner.getControl(pageid, 'marketing_rights');\nvar ctrlSalePrice = Runner.getControl(pageid, 'sale_price');\nvar ctrlValuation = Runner.getControl(pageid, 'valuation_price');\nvar ctrlOption = Runner.getControl(pageid, 'option_money');\nvar ctrlOtpDate = Runner.getControl(pageid, 'otp_date');\nvar ctrlOtpExeDate = Runner.getControl(pageid, 'option_exercise_date');\nvar ctrlEstCompletion = Runner.getControl(pageid, 'est_completion_date');\nvar ctrlSpExeDate = Runner.getControl(pageid, 'sp_execution_date');\nvar ctrlLOI = Runner.getControl(pageid, 'loi_date');\nvar ctrlRental = Runner.getControl(pageid, 'rental_price');\nvar ctrlRentPriceType = Runner.getControl(pageid, 'rental_price_type');\nvar ctrlTADate = Runner.getControl(pageid, 'ta_date');\nvar ctrlLeaseDuration = Runner.getControl(pageid, 'lease_duration_no');\nvar ctrlLeaseDuUnit = Runner.getControl(pageid, 'lease_duration_unit');\nvar ctrlLeaseStart = Runner.getControl(pageid, 'lease_start_date');\nvar ctrlLeaseEnd = Runner.getControl(pageid, 'lease_expiry');\nvar ctrlUnit = Runner.getControl(pageid, 'comm_unit');\nvar ctrlPercent = Runner.getControl(pageid, 'comm_percent');\nvar ctrlAmount = Runner.getControl(pageid, 'comm_amt');\nvar ctrlTransacted = Runner.getControl(pageid, 'transacted_price');\nvar ctrlEarned = Runner.getControl(pageid, 'comm_earned');\nvar ctrlGst = Runner.getControl(pageid, 'gst');\nvar ctrlGross = Runner.getControl(pageid, 'comm_gross');\nvar ctrlGstPayable = Runner.getControl(pageid, 'gst_payable');\nvar ctrlGstInclusive = Runner.getControl(pageid, 'gst_inclusive');\nvar ctrlCommEarnedAgency = Runner.getControl(pageid, 'comm_earned_agency');\nvar ctrlGstAgency = Runner.getControl(pageid, 'gst_agency');\nvar ctrlCommGrossAgency = Runner.getControl(pageid, 'comm_gross_agency');\nvar ctrlSalespersonName = Runner.getControl(pageid, 'salesperson_name');\nvar ctrlCommEarnedSalesperson = Runner.getControl(pageid, 'comm_earned_salesperson');\nvar ctrlCommEarnedPercentSalesperson = Runner.getControl(pageid, 'comm_earned_percent_salesperson');\nvar ctrlCommToAgency = Runner.getControl(pageid, 'comm_to_agency');\nvar ctrlCommToAgency1 = Runner.getControl(pageid, 'comm_to_agency1');\nvar ctrlCommNettSalesperson = Runner.getControl(pageid, 'comm_nett_salesperson');\nvar ctrlManageFee = Runner.getControl(pageid, 'management_fee');\nvar ctrlAgency = Runner.getControl(pageid, 'agency');\nvar ctrlCommenceDate = Runner.getControl(pageid, 'commencement_date');\nvar ctrlEndDate = Runner.getControl(pageid, 'end_date');\nvar ctrlConsultFee = Runner.getControl(pageid, 'consultation_fee');\nvar ctrlServCommence = Runner.getControl(pageid, 'service_commencement');\nvar ctrlServComplete = Runner.getControl(pageid, 'service_completion');\nvar ctrlResult = Runner.getControl(pageid, 'result');\n\nif(ctrlCat.getValue()=='SALE')\n{\npageObj.showField(\"representing\");\t\t\npageObj.showField(\"marketing_rights\");\npageObj.showField(\"salesperson_name\");\npageObj.hideField(\"agency\");\npageObj.showField(\"sale_price\");\npageObj.showField(\"valuation_price\");\npageObj.showField(\"option_money\");\npageObj.showField(\"otp_date\");\npageObj.showField(\"option_exercise_date\");\npageObj.showField(\"est_completion_date\");\npageObj.showField(\"sp_execution_date\");\npageObj.showField(\"comm_percent\");\n//$(\".comm_percent\").show()\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.hideField(\"comm_unit\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\n//$(\".comm_unit\").hide()\n\t\t\t\n} \nif (ctrlCat.getValue()== 'RENTAL'||ctrlCat.getValue()== 'ASSIGNMENT'||ctrlCat.getValue() == 'ROOM RENTAL')\n{\npageObj.showField(\"representing\");\t\t\npageObj.showField(\"marketing_rights\");\npageObj.showField(\"salesperson_name\");\npageObj.hideField(\"agency\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"comm_percent\");\n//$(\".comm_percent\").hide()\n\t\t\t\t\npageObj.showField(\"loi_date\");\npageObj.showField(\"rental_price\");\npageObj.showField(\"rental_price_type\");\npageObj.showField(\"ta_date\");\npageObj.showField(\"lease_duration_no\");\npageObj.showField(\"lease_duration_unit\");\npageObj.showField(\"lease_start_date\");\npageObj.showField(\"lease_expiry\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.showField(\"comm_unit\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\n//$(\".comm_unit\").show()\n}\t\nif (ctrlCat.getValue()== 'PROPERTY MANAGEMENT')\n{\npageObj.showField(\"representing\");\t\t\npageObj.hideField(\"marketing_rights\");\npageObj.hideField(\"salesperson_name\");\npageObj.showField(\"agency\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"comm_percent\");\n//$(\".comm_percent\").hide()\n\t\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.showField(\"management_fee\");\npageObj.showField(\"commencement_date\");\npageObj.showField(\"end_date\");\npageObj.hideField(\"comm_unit\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\n//$(\".comm_unit\").show()\n}\t\nif (ctrlCat.getValue()== 'JTC LEASE MANAGEMENT')\n{\npageObj.showField(\"representing\");\t\t\npageObj.hideField(\"marketing_rights\");\npageObj.hideField(\"salesperson_name\");\npageObj.hideField(\"agency\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"comm_percent\");\n//$(\".comm_percent\").hide()\n\t\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.hideField(\"comm_unit\");\npageObj.showField(\"sub_category\");\npageObj.showField(\"consultation_fee\");\npageObj.showField(\"service_commencement\");\npageObj.showField(\"service_completion\");\npageObj.showField(\"result\");\n\n//$(\".lease-management\").hide()\n}\t\n//calculate comm\nctrlUnit.on('keyup', function(e) {\nvar unit = ctrlUnit.getValue();\nif (unit != unit * 1) {\nctrlAmount.setValue('');\nreturn;\n}\nvar transacted = ctrlTransacted.getValue();\nvar amount = Math.round(transacted * unit, 2);\nctrlAmount.setValue(amount.toFixed(2));\nshowTotalGrossCommission();\n});\n\nctrlAmount.on('keyup', function(e) {\nvar amount = ctrlAmount.getValue();\nif (amount != amount * 1) {\nctrlUnit.setValue('');\nreturn;\n}\nvar transacted = ctrlTransacted.getValue();\nvar unit = (amount/transacted);\nctrlUnit.setValue(unit.toFixed(2));\nshowTotalGrossCommission();\n});\n\nctrlPercent.on('keyup', function(e) {\nvar percent = ctrlPercent.getValue();\nif (percent != percent * 1) {\nctrlAmount.setValue('');\nreturn;\n}\nvar transacted = ctrlTransacted.getValue();\nvar amount = Math.round(transacted * percent / 100, 2);\nctrlAmount.setValue(amount.toFixed(2));\nshowTotalGrossCommission();\n});\n\nctrlAmount.on('keyup', function(e) {\nvar amount = ctrlAmount.getValue();\nif (amount != amount * 1) {\nctrlPercent.setValue('');\nreturn;\n}\nvar transacted = ctrlTransacted.getValue();\nvar percent = (amount/transacted*100);\nctrlPercent.setValue(percent.toFixed(2));\nshowTotalGrossCommission();\n});\n\nctrlGstInclusive.on('change', function(e) {\nif (ctrlGstInclusive.getValue() == 'on') {\nctrlGstPayable.setValue('on');\n}\nshowTotalGrossCommission();\n});\n\nctrlGstPayable.on('change', function(e) {\nif (ctrlGstPayable.getValue() == '') {\nctrlGstInclusive.setValue('');\n}\nshowTotalGrossCommission();\n});\n\nfunction showTotalGrossCommission() {\nvar amount = ctrlAmount.getValue() * 1;\nvar earned, gst, gross;\nif (ctrlGstPayable.getValue() == 'on' && ctrlGstInclusive.getValue() == '') {\nearned = amount;\ngst = customRound(amount * 7 / 100);\ngross = amount + gst;\n} else if (ctrlGstPayable.getValue() == 'on' && ctrlGstInclusive.getValue() == 'on') {\nearned = customRound(amount / 107 * 100);\ngst = amount - earned;\ngross = amount;\n} else {\nearned = amount;\ngst = 0;\ngross = amount;\n}\nctrlEarned.setValue(earned);\nctrlGst.setValue(gst);\nctrlGross.setValue(gross);\n$('#readonly_value_comm_earned_1').text(currencyView(earned));\n$('#readonly_value_gst_1').text(currencyView(gst));\n$('#readonly_value_comm_gross_1').text(currencyView(gross));\n\t\nrefreshTableData();\nrefreshExternalCoBroker();\nrefreshInternalCoBroker();\n}\n//end calculation\n\n\nctrlCat.on('change', function(e) {\nif (this.getValue() == 'SALE') \n{\npageObj.showField(\"representing\");\t\t\npageObj.showField(\"marketing_rights\");\npageObj.showField(\"salesperson_name\");\npageObj.hideField(\"agency\");\npageObj.showField(\"sale_price\");\npageObj.showField(\"valuation_price\");\npageObj.showField(\"option_money\");\npageObj.showField(\"otp_date\");\npageObj.showField(\"option_exercise_date\");\npageObj.showField(\"est_completion_date\");\npageObj.showField(\"sp_execution_date\");\npageObj.showField(\"comm_percent\");\n//$(\".comm_percent\").show()\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.hideField(\"comm_unit\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\n\n//$(\".comm_unit\").hide()\n\nctrlTransacted.setValue('');\t\t\nctrlRepresent.setValue('');\nctrlMarketing.setValue('');\nctrlSalePrice.setValue('');\nctrlValuation.setValue('');\nctrlOption.setValue('');\nctrlOtpDate.setValue('');\nctrlOtpExeDate.setValue('');\nctrlEstCompletion.setValue('');\nctrlSpExeDate.setValue('');\nctrlUnit.setValue('');\nctrlPercent.setValue('');\nctrlAmount.setValue('');\nctrlEarned.setValue('');\nctrlGross.setValue('');\nctrlCommEarnedAgency.setValue('');\nctrlCommEarnedSalesperson.setValue('');\nctrlCommEarnedPercentSalesperson.setValue('');\nctrlCommToAgency.setValue('');\nctrlCommToAgency1.setValue('');\nctrlCommNettSalesperson.setValue('');\nctrlRental.removeValidation('IsRequired');\t\t\nctrlRentPriceType.removeValidation('IsRequired');\nctrlManageFee.removeValidation('IsRequired');\nctrlCommenceDate.removeValidation('IsRequired');\nctrlEndDate.removeValidation('IsRequired');\n}\n\nif (this.getValue() == 'RENTAL'||this.getValue() == 'ASSIGNMENT'||this.getValue() == 'ROOM RENTAL')\n{\npageObj.showField(\"representing\");\t\t\npageObj.showField(\"marketing_rights\");\npageObj.showField(\"salesperson_name\");\npageObj.hideField(\"agency\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"comm_percent\");\n//$(\".comm_percent\").hide()\npageObj.showField(\"loi_date\");\npageObj.showField(\"rental_price\");\npageObj.showField(\"rental_price_type\");\npageObj.showField(\"ta_date\");\npageObj.showField(\"lease_duration_no\");\npageObj.showField(\"lease_duration_unit\");\npageObj.showField(\"lease_start_date\");\npageObj.showField(\"lease_expiry\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.showField(\"comm_unit\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\n//$(\".comm_unit\").show()\nctrlSalePrice.removeValidation('IsRequired');\nctrlManageFee.removeValidation('IsRequired');\nctrlCommenceDate.removeValidation('IsRequired');\nctrlEndDate.removeValidation('IsRequired');\n\t\nctrlTransacted.setValue('');\t\nctrlRepresent.setValue('');\t\nctrlSalePrice.removeValidation('IsRequired');\nctrlMarketing.setValue('');\t\t\nctrlLOI.setValue('');\nctrlRental.setValue('');\nctrlRentPriceType.setValue('');\nctrlTADate.setValue('');\nctrlLeaseDuration.setValue('');\nctrlLeaseDuUnit.setValue('');\nctrlLeaseStart.setValue('');\nctrlLeaseEnd.setValue('');\nctrlUnit.setValue('');\nctrlPercent.setValue('');\nctrlAmount.setValue('');\nctrlEarned.setValue('');\nctrlGross.setValue('');\nctrlCommEarnedAgency.setValue('');\nctrlCommEarnedSalesperson.setValue('');\nctrlCommEarnedPercentSalesperson.setValue('');\nctrlCommToAgency.setValue('');\nctrlCommToAgency1.setValue('');\nctrlCommNettSalesperson.setValue('');\n}\n\nif (this.getValue() == 'PROPERTY MANAGEMENT')\n{\npageObj.showField(\"representing\");\t\t\npageObj.hideField(\"marketing_rights\");\npageObj.hideField(\"salesperson_name\");\npageObj.showField(\"agency\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"comm_percent\");\n//$(\".comm_percent\").hide()\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.showField(\"management_fee\");\npageObj.showField(\"commencement_date\");\npageObj.showField(\"end_date\");\npageObj.hideField(\"comm_unit\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\n//$(\".comm_unit\").show()\nctrlRental.removeValidation('IsRequired');\t\t\nctrlRentPriceType.removeValidation('IsRequired');\nctrlSalePrice.removeValidation('IsRequired');\n\nctrlTransacted.setValue('');\nctrlRepresent.setValue('');\nctrlManageFee.setValue('');\nctrlCommenceDate.setValue('');\nctrlEndDate.setValue('');\nctrlSalePrice.removeValidation('IsRequired');\nctrlUnit.setValue('');\nctrlPercent.setValue('');\nctrlAmount.setValue('');\nctrlEarned.setValue('');\nctrlGross.setValue('');\nctrlCommEarnedAgency.setValue('');\nctrlCommEarnedSalesperson.setValue('');\nctrlCommEarnedPercentSalesperson.setValue('');\nctrlCommToAgency.setValue('');\nctrlCommToAgency1.setValue('');\nctrlCommNettSalesperson.setValue('');\n}\nif (this.getValue() == 'JTC LEASE MANAGEMENT')\n{\npageObj.showField(\"representing\");\t\t\npageObj.hideField(\"marketing_rights\");\npageObj.showField(\"salesperson_name\");\npageObj.hideField(\"agency\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"comm_percent\");\n//$(\".comm_percent\").hide()\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.hideField(\"comm_unit\");\npageObj.showField(\"sub_category\");\npageObj.showField(\"consultation_fee\");\npageObj.showField(\"service_commencement\");\npageObj.showField(\"service_completion\");\npageObj.showField(\"result\");\n\n//$(\".lease-management\").hide()\n\nctrlRental.removeValidation('IsRequired');\t\t\nctrlRentPriceType.removeValidation('IsRequired');\nctrlSalePrice.removeValidation('IsRequired');\nctrlSubCat.addValidation('IsRequired');\nctrlManageFee.removeValidation('IsRequired');\nctrlCommenceDate.removeValidation('IsRequired');\nctrlEndDate.removeValidation('IsRequired');\n\nctrlTransacted.setValue('');\nctrlRepresent.setValue('');\n//ctrlManageFee.setValue('');\n//ctrlCommenceDate.setValue('');\n//ctrlEndDate.setValue('');\nctrlSalePrice.removeValidation('IsRequired');\nctrlUnit.setValue('');\nctrlPercent.setValue('');\nctrlAmount.setValue('');\nctrlEarned.setValue('');\nctrlGross.setValue('');\nctrlCommEarnedAgency.setValue('');\nctrlCommEarnedSalesperson.setValue('');\nctrlCommEarnedPercentSalesperson.setValue('');\nctrlCommToAgency.setValue('');\nctrlCommToAgency1.setValue('');\nctrlCommNettSalesperson.setValue('');\nctrlSubCat.setValue('');\nctrlConsultFee.setValue('');\nctrlServCommence.setValue('');\nctrlServComplete.setValue('');\nctrlResult.setValue('');\n}\n});\n\n//hide controls in property info\nvar ctrlPropType = Runner.getControl(pageid, 'prop_type');\nvar ctrlBuiltUp = Runner.getControl(pageid, 'built_up');\nvar ctrlBuiltUpUnit = Runner.getControl(pageid, 'built_up_unit');\nvar ctrlBedroom = Runner.getControl(pageid, 'no_bedrooms');\nvar ctrlBathroom = Runner.getControl(pageid, 'no_bathrooms');\nvar ctrlLand = Runner.getControl(pageid, 'land');\nvar ctrlLandUnit = Runner.getControl(pageid, 'land_unit');\n\nif(ctrlPropType.getValue()== 'HDB APARTMENT' || ctrlPropType.getValue() == 'APARTMENT / CONDO')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.showField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.hideField(\"land\");\npageObj.hideField(\"land_unit\");\n} \nif (ctrlPropType.getValue()== 'LANDED HOUSE')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.showField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\n}\t\nif (ctrlPropType.getValue()== 'INDUSTRIAL')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.hideField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\n}\nif (ctrlPropType.getValue()== 'OFFICE'||ctrlPropType.getValue() == 'RETAIL')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.hideField(\"land\");\npageObj.hideField(\"land_unit\");\n}\nif (ctrlPropType.getValue()== 'LAND')\n{\npageObj.hideField(\"built_up\");\npageObj.hideField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.hideField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\n}\n\nctrlPropType.on('change', function(e) {\nif (this.getValue() == 'HDB APARTMENT' || this.getValue() == 'APARTMENT / CONDO') \n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.showField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.hideField(\"land\");\npageObj.hideField(\"land_unit\");\nctrlLand.setValue('');\nctrlLandUnit.setValue('');\nctrlUnit.setValue('');\nctrlPercent.setValue('');\nctrlAmount.setValue('');\nctrlEarned.setValue('');\nctrlGross.setValue('');\nctrlCommEarnedAgency.setValue('');\nctrlCommEarnedSalesperson.setValue('');\nctrlCommEarnedPercentSalesperson.setValue('');\nctrlCommToAgency.setValue('');\nctrlCommToAgency1.setValue('');\nctrlCommNettSalesperson.setValue('');\n}\n\nif (this.getValue() == 'LANDED HOUSE')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.showField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\nctrlUnit.setValue('');\nctrlPercent.setValue('');\nctrlAmount.setValue('');\nctrlEarned.setValue('');\nctrlGross.setValue('');\nctrlCommEarnedAgency.setValue('');\nctrlCommEarnedSalesperson.setValue('');\nctrlCommEarnedPercentSalesperson.setValue('');\nctrlCommToAgency.setValue('');\nctrlCommToAgency1.setValue('');\nctrlCommNettSalesperson.setValue('');\n}\n\nif (this.getValue() == 'INDUSTRIAL')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.hideField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\nctrlBedroom.setValue('');\nctrlBathroom.setValue('');\nctrlUnit.setValue('');\nctrlPercent.setValue('');\nctrlAmount.setValue('');\nctrlEarned.setValue('');\nctrlGross.setValue('');\nctrlCommEarnedAgency.setValue('');\nctrlCommEarnedSalesperson.setValue('');\nctrlCommEarnedPercentSalesperson.setValue('');\nctrlCommToAgency.setValue('');\nctrlCommToAgency1.setValue('');\nctrlCommNettSalesperson.setValue('');\n}\n\nif (this.getValue() == 'OFFICE'||this.getValue() == 'RETAIL')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.hideField(\"land\");\npageObj.hideField(\"land_unit\");\nctrlBedroom.setValue('');\nctrlLand.setValue('');\nctrlLandUnit.setValue('');\nctrlUnit.setValue('');\nctrlPercent.setValue('');\nctrlAmount.setValue('');\nctrlEarned.setValue('');\nctrlGross.setValue('');\nctrlCommEarnedAgency.setValue('');\nctrlCommEarnedSalesperson.setValue('');\nctrlCommEarnedPercentSalesperson.setValue('');\nctrlCommToAgency.setValue('');\nctrlCommToAgency1.setValue('');\nctrlCommNettSalesperson.setValue('');\n}\n\nif (this.getValue() == 'LAND')\n{\npageObj.hideField(\"built_up\");\npageObj.hideField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.hideField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\nctrlBuiltUp.setValue('');\nctrlBuiltUpUnit.setValue('');\nctrlBedroom.setValue('');\nctrlBathroom.setValue('');\nctrlUnit.setValue('');\nctrlPercent.setValue('');\nctrlAmount.setValue('');\nctrlEarned.setValue('');\nctrlGross.setValue('');\nctrlCommEarnedAgency.setValue('');\nctrlCommEarnedSalesperson.setValue('');\nctrlCommEarnedPercentSalesperson.setValue('');\nctrlCommToAgency.setValue('');\nctrlCommToAgency1.setValue('');\nctrlCommNettSalesperson.setValue('');\n}\n});\n\n//update transacted price on change\nvar ctrlTransacted = Runner.getControl(pageid, 'transacted_price');\nvar ctrlSalePrice = Runner.getControl(pageid, 'sale_price');\nvar ctrlRental = Runner.getControl(pageid, 'rental_price');\nvar ctrlManageFee = Runner.getControl(pageid, 'management_fee');\n//on input rental empty sale price and management fee\nctrlRental.on('keyup', function(e) {\nvar rental= ctrlRental.getValue();\nif (rental != rental * 1) {\nctrlSalePrice.setValue('');\nctrlManageFee.setValue('');\nreturn;\n}\nctrlTransacted.setValue(Number(ctrlRental.getValue()));\n});\n//on input sale price empty rental and management fee\nctrlSalePrice.on('keyup', function(e) {\nvar saleprice= ctrlSalePrice.getValue();\nif (saleprice != saleprice * 1) {\nctrlRental.setValue('');\nctrlManageFee.setValue('');\nreturn;\n}\nctrlTransacted.setValue(Number(ctrlSalePrice.getValue()));\n});\n//on input management fee empty rental and sale price\nctrlManageFee.on('keyup', function(e) {\nvar mfee= ctrlManageFee.getValue();\nif (mfee != mfee * 1) {\nctrlRental.setValue('');\nctrlSalePrice.setValue('');\nreturn;\n}\nctrlTransacted.setValue(Number(ctrlManageFee.getValue()));\n});\n\n// ===== Scroll to Top ==== \n$(window).scroll(function() {\nif ($(this).scrollTop() >= 50) {        // If page is scrolled more than 50px\n$('#return-to-top').fadeIn(200);    // Fade in the arrow\n} else {\n$('#return-to-top').fadeOut(200);   // Else fade out the arrow\n}\n});\n$('#return-to-top').click(function() {      // When arrow is clicked\n$('body,html').animate({\nscrollTop : 0                       // Scroll to top of body\n}, 500);\n});"
		},
		{
			"eventId": "EVENT_BEFORESHOW_VIEW",
			"pageType": "view",
			"code": "//hide na fields\n$xt->assign(\"gst_payable_tabfieldblock\",false);\n$xt->assign(\"gst_inclusive_tabfieldblock\",false);\n$xt->assign(\"gst_tabfieldblock\",false);\n$xt->assign(\"comm_gross_tabfieldblock\",false);\n$xt->assign(\"gst_agency_tabfieldblock\",false);\n$xt->assign(\"comm_gross_agency_tabfieldblock\",false);\n$xt->assign(\"details_cobroke_internal_comm\",false);\n$xt->assign(\"details_edit_cobroke_external_comm_link\",false);\n$xt->assign(\"details_edit_external_party_comm_link\",false);\n$xt->assign(\"saveall_cobroke_external_comm_link\",false);\n$xt->assign(\"cancelall_cobroke_external_comm_link\",false);\n$xt->assign(\"saveall_external_party_comm_link\",false);\n$xt->assign(\"cancelall_external_party_comm_link\",false);\n\n//hide details based on cdd results\nif ($values[\"cdd_result\"]==\"\")\n{\n$xt->assign(\"details_cdd_measures\",false);\n$xt->assign(\"details_pps_check\",false);\n$xt->assign(\"details_un_sanction_check\",false);\n$xt->assign(\"details_str\",false);\n}\n//end hide\n\n$xt->assign(\"edit_button\", true);\n$xt->assign(\"send_button\", true);\n$xt->assign(\"buttons-container1\", true);\n\nif( $_SESSION[\"UserID\"] == \"Guest\")\n{\n$xt->assign(\"back_button\", false);\n$xt->assign(\"edit_button\", false);\n$xt->assign(\"send_button\", false);\n}\n//hide edit if status close\nif($values[\"status_status\"]==\"Close\")\n$xt->assign(\"edit_button\", false);\n//end hide\n\n$xt->assign(\"editid1_value\", $values['id']);\n\n//hide fields if empty\nif (!$values[\"loi_date\"])\n$pageObject->hideField(\"loi_date\");\n\nif (!$values[\"prop_name\"])\n$pageObject->hideField(\"prop_name\");\n\nif (!$values[\"tenure\"])\n$pageObject->hideField(\"tenure\");\n\nif (!$values[\"TOP\"])\n$pageObject->hideField(\"TOP\");\n\nif (!$values[\"no_bathrooms\"])\n$pageObject->hideField(\"no_bathrooms\");\n\nif (!$values[\"no_bedrooms\"])\n$pageObject->hideField(\"no_bedrooms\");"
		},
		{
			"eventId": "EVENT_JS_ONLOAD",
			"pageType": "view",
			"code": "var ctrlCat = Runner.getControl(pageid, 'category');\nvar ctrlSubCat = Runner.getControl(pageid, 'sub_category');\nvar ctrlRepresent = Runner.getControl(pageid, 'representing');\nvar ctrlRights = Runner.getControl(pageid, 'marketing_rights');\nvar ctrlSalePrice = Runner.getControl(pageid, 'sale_price');\nvar ctrlValuation = Runner.getControl(pageid, 'valuation_price');\nvar ctrlOption = Runner.getControl(pageid, 'option_money');\nvar ctrlOtpDate = Runner.getControl(pageid, 'otp_date');\nvar ctrlOtpExeDate = Runner.getControl(pageid, 'option_exercise_date');\nvar ctrlEstCompletion = Runner.getControl(pageid, 'est_completion_date');\nvar ctrlSpExeDate = Runner.getControl(pageid, 'sp_execution_date');\nvar ctrlLOI = Runner.getControl(pageid, 'loi_date');\nvar ctrlRental = Runner.getControl(pageid, 'rental_price');\nvar ctrlRentPriceType = Runner.getControl(pageid, 'rental_price_type');\nvar ctrlTADate = Runner.getControl(pageid, 'ta_date');\nvar ctrlLeaseDuration = Runner.getControl(pageid, 'lease_duration_no');\nvar ctrlLeaseDuUnit = Runner.getControl(pageid, 'lease_duration_unit');\nvar ctrlLeaseStart = Runner.getControl(pageid, 'lease_start_date');\nvar ctrlLeaseEnd = Runner.getControl(pageid, 'lease_expiry');\nvar ctrlUnit = Runner.getControl(pageid, 'comm_unit');\nvar ctrlPercent = Runner.getControl(pageid, 'comm_percent');\nvar ctrlAmount = Runner.getControl(pageid, 'comm_amt');\nvar ctrlTransacted = Runner.getControl(pageid, 'transacted_price');\nvar ctrlEarned = Runner.getControl(pageid, 'comm_earned');\nvar ctrlGst = Runner.getControl(pageid, 'gst');\nvar ctrlGross = Runner.getControl(pageid, 'comm_gross');\nvar ctrlGstPayable = Runner.getControl(pageid, 'gst_payable');\nvar ctrlGstInclusive = Runner.getControl(pageid, 'gst_inclusive');\nvar ctrlCommEarnedAgency = Runner.getControl(pageid, 'comm_earned_agency');\nvar ctrlGstAgency = Runner.getControl(pageid, 'gst_agency');\nvar ctrlCommGrossAgency = Runner.getControl(pageid, 'comm_gross_agency');\nvar ctrlSalespersonName = Runner.getControl(pageid, 'salesperson_name');\nvar ctrlCommEarnedSalesperson = Runner.getControl(pageid, 'comm_earned_salesperson');\nvar ctrlCommEarnedPercentSalesperson = Runner.getControl(pageid, 'comm_earned_percent_salesperson');\nvar ctrlRemarks = Runner.getControl(pageid, 'remarks');\nvar ctrlManageFee = Runner.getControl(pageid, 'management_fee');\nvar ctrlAgency = Runner.getControl(pageid, 'agency');\nvar ctrlCommenceDate = Runner.getControl(pageid, 'commencement_date');\nvar ctrlEndDate = Runner.getControl(pageid, 'end_date');\nvar ctrlConsultFee = Runner.getControl(pageid, 'consultation_fee');\nvar ctrlServCommence = Runner.getControl(pageid, 'service_commencement');\nvar ctrlServComplete = Runner.getControl(pageid, 'service_completion');\nvar ctrlResult = Runner.getControl(pageid, 'result');\n\nif(ctrlCat.getValue()=='SALE')\n{\npageObj.showField(\"representing\");\t\t\npageObj.showField(\"marketing_rights\");\npageObj.showField(\"salesperson_name\");\npageObj.showField(\"cea_reg\");\npageObj.hideField(\"agency\");\npageObj.hideField(\"agency_cea\");\npageObj.showField(\"sale_price\");\npageObj.showField(\"valuation_price\");\npageObj.showField(\"option_money\");\npageObj.showField(\"otp_date\");\npageObj.showField(\"option_exercise_date\");\npageObj.showField(\"est_completion_date\");\npageObj.showField(\"sp_execution_date\");\npageObj.showField(\"comm_percent\");\n\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.hideField(\"comm_unit\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\npageObj.hideField(\"reminder_agent\");\npageObj.hideField(\"reminder_tenant\");\npageObj.hideField(\"reminder_tenant_email\");\n} \n/*\nif (ctrlValuation.getValue()=='')\nctrlValuation.setValue('-');\nif (ctrlOption.getValue()=='')\nctrlOption.setValue('-');\nif (ctrlOtpDate.getValue()=='')\nctrlOtpDate.setValue('-');\nif (ctrlOtpExeDate.getValue()=='')\nctrlOtpExeDate.setValue('-');\nif (ctrlEstCompletion.getValue()=='')\nctrlEstCompletion.setValue('-');\nif (ctrlSpExeDate.getValue()=='')\nctrlSpExeDate.setValue('-');\n*/\nif (ctrlCat.getValue()== 'RENTAL'||ctrlCat.getValue()== 'ASSIGNMENT'||ctrlCat.getValue()== 'ROOM RENTAL')\n{\npageObj.showField(\"representing\");\t\t\npageObj.showField(\"marketing_rights\");\npageObj.showField(\"salesperson_name\");\npageObj.showField(\"cea_reg\");\npageObj.hideField(\"agency\");\npageObj.hideField(\"agency_cea\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"comm_percent\");\n\t\t\t\t\npageObj.showField(\"loi_date\");\npageObj.showField(\"rental_price\");\npageObj.showField(\"rental_price_type\");\npageObj.showField(\"ta_date\");\npageObj.showField(\"lease_duration_no\");\npageObj.showField(\"lease_duration_unit\");\npageObj.showField(\"lease_start_date\");\npageObj.showField(\"lease_expiry\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.showField(\"comm_unit\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\npageObj.showField(\"reminder_agent\");\npageObj.showField(\"reminder_tenant\");\npageObj.showField(\"reminder_tenant_email\");\n}\t\n/*\nif (ctrlLOI.getValue()=='')\nctrlLOI.setValue('');\nif (ctrlTADate.getValue()=='')\nctrlTADate.setValue('');\nif (ctrlLeaseDuration.getValue()=='')\nctrlLeaseDuration.setValue('-');\nif (ctrlLeaseStart.getValue()=='')\nctrlLeaseStart.setValue('-');\nif (ctrlLeaseEnd.getValue()=='')\nctrlLeaseEnd.setValue('-');\n*/\nif (ctrlCat.getValue()== 'PROPERTY MANAGEMENT')\n{\npageObj.showField(\"representing\");\t\t\npageObj.hideField(\"marketing_rights\");\npageObj.hideField(\"salesperson_name\");\npageObj.hideField(\"cea_reg\");\npageObj.showField(\"agency\");\npageObj.showField(\"agency_cea\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"comm_percent\");\npageObj.hideField(\"transacted_price\");\t\npageObj.hideField(\"loi_date\");\npageObj.showField(\"rental_price\");\npageObj.showField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.showField(\"management_fee\");\npageObj.showField(\"commencement_date\");\npageObj.showField(\"end_date\");\npageObj.hideField(\"comm_unit\");\npageObj.hideField(\"sub_category\");\npageObj.hideField(\"consultation_fee\");\npageObj.hideField(\"service_commencement\");\npageObj.hideField(\"service_completion\");\npageObj.hideField(\"result\");\npageObj.showField(\"reminder_agent\");\npageObj.showField(\"reminder_tenant\");\npageObj.showField(\"reminder_tenant_email\");\n}\t\n\nif (ctrlCat.getValue()== 'JTC LEASE MANAGEMENT')\n{\npageObj.showField(\"representing\");\t\t\npageObj.hideField(\"marketing_rights\");\npageObj.showField(\"salesperson_name\");\npageObj.hideField(\"cea_reg\");\npageObj.hideField(\"agency\");\npageObj.hideField(\"agency_cea\");\npageObj.hideField(\"sale_price\");\npageObj.hideField(\"valuation_price\");\npageObj.hideField(\"option_money\");\npageObj.hideField(\"otp_date\");\npageObj.hideField(\"option_exercise_date\");\npageObj.hideField(\"est_completion_date\");\npageObj.hideField(\"sp_execution_date\");\npageObj.hideField(\"comm_percent\");\npageObj.hideField(\"transacted_price\");\t\npageObj.hideField(\"loi_date\");\npageObj.hideField(\"rental_price\");\npageObj.hideField(\"rental_price_type\");\npageObj.hideField(\"ta_date\");\npageObj.hideField(\"lease_duration_no\");\npageObj.hideField(\"lease_duration_unit\");\npageObj.hideField(\"lease_start_date\");\npageObj.hideField(\"lease_expiry\");\npageObj.hideField(\"management_fee\");\npageObj.hideField(\"commencement_date\");\npageObj.hideField(\"end_date\");\npageObj.hideField(\"comm_unit\");\npageObj.showField(\"sub_category\");\npageObj.showField(\"consultation_fee\");\npageObj.showField(\"service_commencement\");\npageObj.showField(\"service_completion\");\npageObj.showField(\"result\");\npageObj.hideField(\"reminder_agent\");\npageObj.hideField(\"reminder_tenant\");\npageObj.hideField(\"reminder_tenant_email\");\n}\t\n\n//tenant email required on condition\nvar ctrlReminderTenant = Runner.getControl(pageid, 'reminder_tenant');\nvar ctrlReminderTenantEmail = Runner.getControl(pageid, 'reminder_tenant_email');\n\nif (ctrlReminderTenant.getValue() == \"Yes\") \n{\npageObj.showField(\"reminder_tenant_email\");\n}\nif (ctrlReminderTenant.getValue() == \"No\") \n{\npageObj.hideField(\"reminder_tenant_email\");\n}\n\n//hide controls in property info\nvar ctrlPropType = Runner.getControl(pageid, 'prop_type');\nvar ctrlBuiltUp = Runner.getControl(pageid, 'built_up');\nvar ctrlBuiltUpUnit = Runner.getControl(pageid, 'built_up_unit');\nvar ctrlBedroom = Runner.getControl(pageid, 'no_bedrooms');\nvar ctrlBathroom = Runner.getControl(pageid, 'no_bathrooms');\nvar ctrlLand = Runner.getControl(pageid, 'land');\nvar ctrlLandUnit = Runner.getControl(pageid, 'land_unit');\n\nif(ctrlPropType.getValue()== 'HDB APARTMENT' || ctrlPropType.getValue() == 'APARTMENT / CONDO')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.showField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.hideField(\"land\");\npageObj.hideField(\"land_unit\");\n} \n\nif (ctrlBuiltUp.getValue()=='')\nctrlBuiltUp.setValue('-');\nif (ctrlBedroom.getValue()=='')\nctrlBedroom.setValue('-');\nif (ctrlBathroom.getValue()=='')\nctrlBathroom.setValue('-');\n\nif (ctrlPropType.getValue()== 'LANDED HOUSE')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.showField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\n}\t\n\nif (ctrlBuiltUp.getValue()=='')\nctrlBuiltUp.setValue('-');\nif (ctrlBedroom.getValue()=='')\nctrlBedroom.setValue('-');\nif (ctrlBathroom.getValue()=='')\nctrlBathroom.setValue('-');\nif (ctrlLand.getValue()=='')\nctrlLand.setValue('-');\n\nif (ctrlPropType.getValue()== 'INDUSTRIAL')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.hideField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\n}\n\nif (ctrlBuiltUp.getValue()=='')\nctrlBuiltUp.setValue('-');\nif (ctrlLand.getValue()=='')\nctrlLand.setValue('-');\n\nif (ctrlPropType.getValue()== 'OFFICE'||ctrlPropType.getValue() == 'RETAIL')\n{\npageObj.showField(\"built_up\");\npageObj.showField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.showField(\"no_bathrooms\");\npageObj.hideField(\"land\");\npageObj.hideField(\"land_unit\");\n}\n\nif (ctrlBuiltUp.getValue()=='')\nctrlBuiltUp.setValue('-');\nif (ctrlBathroom.getValue()=='')\nctrlBathroom.setValue('-');\n\nif (ctrlPropType.getValue()== 'LAND')\n{\npageObj.hideField(\"built_up\");\npageObj.hideField(\"built_up_unit\");\npageObj.hideField(\"no_bedrooms\");\npageObj.hideField(\"no_bathrooms\");\npageObj.showField(\"land\");\npageObj.showField(\"land_unit\");\n}\n\nif (ctrlLand.getValue()=='')\nctrlLand.setValue('-');\n\n\nif (ctrlRemarks.getValue()== '')\n{\npageObj.hideField(\"remarks\");\t\n}\n\n// ===== Scroll to Top ==== \n$(window).scroll(function() {\n    if ($(this).scrollTop() >= 50) {        // If page is scrolled more than 50px\n        $('#return-to-top').fadeIn(200);    // Fade in the arrow\n    } else {\n        $('#return-to-top').fadeOut(200);   // Else fade out the arrow\n    }\n});\n$('#return-to-top').click(function() {      // When arrow is clicked\n    $('body,html').animate({\n        scrollTop : 0                       // Scroll to top of body\n    }, 500);\n});"
		},
		{
			"eventId": "EVENT_BEFOREQUERY_LIST",
			"pageType": "list",
			"code": "// Filter lease expiry in the next 2 months\n// and exclude records that have been renewed with a new expiry date at least 6 months from the current expiry date.\n/*\nif ($_REQUEST[\"a\"] != \"search\" && $_REQUEST[\"a\"] != \"advsearch\") {\n    $strWhereClause = whereAdd(\n        $strWhereClause,\n        \"lease_expiry BETWEEN DATE_ADD(NOW(), INTERVAL 0 DAY) \n        AND DATE_ADD(NOW(), INTERVAL 60 DAY)\n        AND NOT EXISTS (\n            SELECT 1 \n            FROM jwresour_jwr_saas_db_jwrealty.transactions AS sub\n            WHERE sub.prop_address = transactions.prop_address\n            AND sub.lease_expiry >= DATE_ADD(transactions.lease_expiry, INTERVAL 6 MONTH)\n        )\"\n    );\n}\n\n\n\nif ($_REQUEST[\"a\"] != \"search\" && $_REQUEST[\"a\"] != \"advsearch\") {\n    $strWhereClause = whereAdd(\n        $strWhereClause,\n        \"(lease_expiry BETWEEN CURDATE() \n        AND DATE_ADD(CURDATE(), INTERVAL 60 DAY))\n        AND NOT EXISTS (\n            SELECT 1 \n            FROM jwresour_jwr_saas_db_jwrealty.transactions AS sub\n            WHERE sub.prop_address = transactions.prop_address\n            AND sub.lease_expiry >= DATE_ADD(transactions.lease_expiry, INTERVAL 6 MONTH)\n        )\"\n    );\n}\n\n\n// Manually authenticate if no user is logged in\nif (!isset($_SESSION[\"UserID\"]) || empty($_SESSION[\"UserID\"])) {\n    $_SESSION[\"UserID\"] = \"p032422e\"; // Replace with actual username\n    $_SESSION[\"UserGroup\"] = \"account admin\"; // Assign appropriate role\n}\n*/\n// Proceed with filtering records only if not performing a search\nif (@$_REQUEST[\"a\"] != \"search\" && @$_REQUEST[\"a\"] != \"advsearch\" && @$_REQUEST[\"a\"] != \"showall\") { \n    $strWhereClause = whereAdd(\n        $strWhereClause,\n        \"lease_expiry BETWEEN DATE_ADD(NOW(), INTERVAL 0 DAY) \n        AND DATE_ADD(NOW(), INTERVAL 60 DAY)\n        AND NOT EXISTS (\n            SELECT 1 \n            FROM transactions AS sub\n            WHERE sub.prop_address = transactions.prop_address\n            AND sub.lease_expiry >= DATE_ADD(transactions.lease_expiry, INTERVAL 6 MONTH)\n        )\"\n    );\n}"
		},
		{
			"eventId": "EVENT_BEFORESHOW_LIST",
			"pageType": "list",
			"code": "/*\n$xt->assign(\"listIcons_column\",false);\n/*\n$xt->assign(\"container_breadcrumbs\",false);\n$xt->assign(\"container_gridcontrols\",false);\n$xt->assign(\"container_tabs\",false);\n*/\n\n\n$xt->assign(\"header\",false);\n\n$xt->assign(\"footer\",false);"
		},
		{
			"eventId": "EVENT_BEFOREPROCESS_LIST",
			"pageType": "list",
			"code": "/*\n$_SESSION[\"Prop_kind\"]=\"\";\n$_SESSION[\"prop_address\"]=\"\";\n$_SESSION[\"lease_expiry\"]=\"\";\n*/\n// Place event code here.\n// Use \"Add Action\" button to add code snippets."
		}
	],
	"sortByFields": {
		"sortOrder": []
	},
	"pages": [
		{
			"id": "list",
			"type": "list",
			"layoutId": "topbar",
			"disabled": 0,
			"default": 0,
			"forms": {
				"above-grid": {
					"modelId": "list-above-grid",
					"grid": [
						{
							"cells": [
								{
									"cell": "c1"
								},
								{
									"cell": "c2"
								}
							],
							"section": ""
						}
					],
					"cells": {
						"c1": {
							"model": "c1",
							"items": []
						},
						"c2": {
							"model": "c2",
							"items": [
								"details_found",
								"page_size"
							],
							"customCSS": "/* Put  your custom CSS code here */\n\n:host {\n  display:none !important;\n}\n"
						}
					},
					"deferredItems": [],
					"recsPerRow": 1
				},
				"below-grid": {
					"modelId": "list-below-grid",
					"grid": [
						{
							"cells": [
								{
									"cell": "c1"
								}
							],
							"section": ""
						}
					],
					"cells": {
						"c1": {
							"model": "c1",
							"items": [
								"pagination"
							]
						}
					},
					"deferredItems": [],
					"recsPerRow": 1
				},
				"supertop": {
					"modelId": "topbar-menu",
					"grid": [
						{
							"cells": [
								{
									"cell": "c1",
									"colspan": 1
								},
								{
									"cell": "c"
								}
							],
							"section": ""
						}
					],
					"cells": {
						"c1": {
							"model": "c1",
							"items": [
								"logo",
								"menu",
								"text"
							],
							"customCSS": "/* Put  your custom CSS code here */\n\n\n",
							"width": "90%"
						},
						"c": {
							"model": "c2",
							"items": [
								"list_options",
								"loginform_login",
								"username_button"
							],
							"customCSS": "/* Put  your custom CSS code here */\n\n\n"
						}
					},
					"deferredItems": [],
					"recsPerRow": 1
				},
				"left": {
					"modelId": "list-vbar",
					"grid": [
						{
							"cells": [
								{
									"cell": "c1"
								}
							],
							"section": ""
						}
					],
					"cells": {
						"c1": {
							"model": "c1",
							"items": []
						}
					},
					"deferredItems": [],
					"recsPerRow": 1
				},
				"top": {
					"modelId": "list-top",
					"grid": [
						{
							"cells": [
								{
									"cell": "c1"
								}
							],
							"section": ""
						}
					],
					"cells": {
						"c1": {
							"model": "c1",
							"items": []
						}
					},
					"deferredItems": [],
					"recsPerRow": 1
				},
				"grid": {
					"modelId": "horizontal-grid",
					"grid": [
						{
							"section": "head",
							"cells": [
								{
									"cell": "headcell_field6"
								},
								{
									"cell": "headcell_field"
								},
								{
									"cell": "headcell_field2"
								},
								{
									"cell": "headcell_field3"
								},
								{
									"cell": "headcell_field1"
								}
							]
						},
						{
							"section": "body",
							"cells": [
								{
									"cell": "headcell_field7"
								},
								{
									"cell": "headcell_field4"
								},
								{
									"cell": "cell_field2"
								},
								{
									"cell": "cell_field3"
								},
								{
									"cell": "cell_field"
								}
							]
						},
						{
							"section": "foot",
							"cells": [
								{
									"cell": "headcell_field8"
								},
								{
									"cell": "headcell_field5"
								},
								{
									"cell": "footcell_field2"
								},
								{
									"cell": "footcell_field3"
								},
								{
									"cell": "footcell_field"
								}
							]
						}
					],
					"cells": {
						"headcell_field": {
							"model": "headcell_field",
							"items": [
								"text1"
							],
							"columnName": "field",
							"field": "Prop_kind"
						},
						"headcell_field2": {
							"model": "headcell_field",
							"items": [
								"simple_grid_field6"
							],
							"field": "prop_address",
							"columnName": "field"
						},
						"cell_field2": {
							"model": "cell_field",
							"items": [
								"simple_grid_field2"
							],
							"field": "prop_address",
							"columnName": "field"
						},
						"footcell_field2": {
							"model": "footcell_field",
							"items": [],
							"field": "prop_address",
							"columnName": "field"
						},
						"headcell_field3": {
							"model": "headcell_field",
							"items": [
								"simple_grid_field7"
							],
							"field": "lease_expiry",
							"columnName": "field"
						},
						"cell_field3": {
							"model": "cell_field",
							"items": [
								"simple_grid_field4"
							],
							"field": "lease_expiry",
							"columnName": "field"
						},
						"footcell_field3": {
							"model": "footcell_field",
							"items": [],
							"field": "lease_expiry",
							"columnName": "field"
						},
						"headcell_field4": {
							"model": "cell_field",
							"items": [
								"grid_field"
							],
							"columnName": "field",
							"field": "Prop_kind"
						},
						"headcell_field5": {
							"model": "footcell_field",
							"items": [],
							"columnName": "field",
							"field": "Prop_kind"
						},
						"headcell_field6": {
							"model": "headcell_field",
							"items": [
								"grid_field_label"
							],
							"columnName": "field",
							"field": "category"
						},
						"headcell_field7": {
							"model": "cell_field",
							"items": [
								"grid_field1"
							],
							"columnName": "field",
							"field": "category"
						},
						"headcell_field8": {
							"model": "footcell_field",
							"items": [],
							"columnName": "field",
							"field": "category"
						},
						"headcell_field1": {
							"model": "headcell_field",
							"items": [
								"grid_field_label1"
							],
							"field": "agency",
							"columnName": "field"
						},
						"cell_field": {
							"model": "cell_field",
							"items": [
								"grid_field2"
							],
							"field": "agency",
							"columnName": "field"
						},
						"footcell_field": {
							"model": "footcell_field",
							"items": [],
							"field": "agency",
							"columnName": "field"
						}
					},
					"deferredItems": [],
					"recsPerRow": 1
				}
			},
			"items": {
				"page_size": {
					"type": "page_size"
				},
				"details_found": {
					"type": "details_found"
				},
				"logo": {
					"type": "logo",
					"customCSS": "/* Put  your custom CSS code here */\n\n:host {\n display:none !important;\n}\n"
				},
				"menu": {
					"type": "menu",
					"customCSS": "/* Put  your custom CSS code here */\n\n:host {\n display:none !important;\n}\n"
				},
				"pagination": {
					"type": "pagination"
				},
				"list_options": {
					"type": "list_options",
					"items": [
						"advsearch_link"
					],
					"customCSS": "/* Put  your custom CSS code here */\n\n:host {\n display:none !important;\n}\n"
				},
				"simple_grid_field4": {
					"field": "lease_expiry",
					"type": "grid_field",
					"inlineAdd": false,
					"inlineEdit": false
				},
				"simple_grid_field2": {
					"field": "prop_address",
					"type": "grid_field",
					"inlineAdd": false,
					"inlineEdit": false
				},
				"username_button": {
					"type": "username_button",
					"items": [
						"userinfo_link",
						"logout_link",
						"changepassword_link"
					],
					"customCSS": "/* Put  your custom CSS code here */\n\n:host {\n display:none !important;\n}\n"
				},
				"loginform_login": {
					"type": "loginform_login",
					"popup": false,
					"customCSS": "/* Put  your custom CSS code here */\n\n:host {\n display:none !important;\n}\n"
				},
				"userinfo_link": {
					"type": "userinfo_link"
				},
				"logout_link": {
					"type": "logout_link"
				},
				"simple_grid_field6": {
					"type": "grid_field_label",
					"field": "prop_address",
					"clickSort": false,
					"label": {
						"field": "prop_address",
						"table": "lease_due_pub",
						"type": 3
					}
				},
				"simple_grid_field7": {
					"type": "grid_field_label",
					"field": "lease_expiry",
					"clickSort": false,
					"label": {
						"field": "lease_expiry",
						"table": "lease_due_pub",
						"type": 3
					}
				},
				"text": {
					"type": "text",
					"label": {
						"type": 0,
						"text": "Lease(s) due for renewal"
					},
					"editedByRte": false,
					"padding": {
						"left": "30px"
					}
				},
				"grid_field": {
					"field": "Prop_kind",
					"type": "grid_field",
					"inlineAdd": false,
					"inlineEdit": false
				},
				"text1": {
					"type": "text",
					"label": {
						"text": "Property Type",
						"type": 0
					},
					"editedByRte": false
				},
				"advsearch_link": {
					"type": "advsearch_link"
				},
				"grid_field1": {
					"field": "category",
					"type": "grid_field",
					"inlineAdd": false,
					"inlineEdit": false
				},
				"grid_field_label": {
					"type": "grid_field_label",
					"field": "category",
					"label": {
						"field": "category",
						"table": "lease_due_pub",
						"type": 3
					}
				},
				"changepassword_link": {
					"type": "changepassword_link"
				},
				"grid_field2": {
					"field": "agency",
					"type": "grid_field"
				},
				"grid_field_label1": {
					"type": "grid_field_label",
					"field": "agency"
				}
			},
			"spreadsheetGrid": false,
			"version": 14,
			"pageWidth": "standard",
			"menuWidth": "compact",
			"pageAlign": "left",
			"reorderRows": false,
			"imageItem": {
				"type": "page_image"
			},
			"imageBgColor": "#f2f2f2",
			"controlsBgColor": "white",
			"imagePosition": "right",
			"listTotals": 1,
			"title": {}
		},
		{
			"id": "search",
			"type": "search",
			"layoutId": "nomenu",
			"disabled": 0,
			"default": 0,
			"forms": {
				"above-grid": {
					"modelId": "search-above-grid",
					"grid": [
						{
							"cells": [
								{
									"cell": "c1",
									"colspan": 2
								}
							],
							"section": ""
						}
					],
					"cells": {
						"c1": {
							"model": "c1",
							"items": []
						}
					},
					"deferredItems": [],
					"recsPerRow": 1
				},
				"below-grid": {
					"modelId": "search-below-grid",
					"grid": [
						{
							"cells": [
								{
									"cell": "c1"
								}
							],
							"section": ""
						}
					],
					"cells": {
						"c1": {
							"model": "c1",
							"items": [
								"search_search",
								"search_reset",
								"search_back_list",
								"search_cancel"
							]
						}
					},
					"deferredItems": [],
					"recsPerRow": 1
				},
				"top": {
					"modelId": "search-header",
					"grid": [
						{
							"cells": [
								{
									"cell": "c1"
								}
							],
							"section": ""
						}
					],
					"cells": {
						"c1": {
							"model": "c1",
							"items": [
								"search_header"
							]
						}
					},
					"deferredItems": [],
					"recsPerRow": 1
				},
				"grid": {
					"modelId": "simple-search",
					"grid": [
						{
							"cells": [
								{
									"cell": "c3"
								}
							],
							"section": ""
						}
					],
					"cells": {
						"c3": {
							"model": "c3",
							"items": [
								"integrated_search_field",
								"integrated_search_field1",
								"integrated_search_field2"
							]
						}
					},
					"deferredItems": [],
					"separateLabels": false
				}
			},
			"items": {
				"search_header": {
					"type": "search_header"
				},
				"search_reset": {
					"type": "search_reset"
				},
				"search_back_list": {
					"type": "search_back_list"
				},
				"search_search": {
					"type": "search_search"
				},
				"search_cancel": {
					"type": "search_cancel"
				},
				"integrated_search_field": {
					"field": "date",
					"type": "integrated_search_field",
					"orientation": 0,
					"required": false
				},
				"integrated_search_field1": {
					"field": "ta_date",
					"type": "integrated_search_field",
					"orientation": 0,
					"required": false
				},
				"integrated_search_field2": {
					"field": "agency",
					"type": "integrated_search_field",
					"orientation": 0,
					"required": false
				}
			},
			"version": 14,
			"imageItem": {
				"type": "page_image"
			},
			"imageBgColor": "#f2f2f2",
			"controlsBgColor": "white",
			"imagePosition": "right",
			"listTotals": 1,
			"title": {}
		}
	],
	"geoCoding": {
		"enabled": false,
		"latField": "",
		"lonField": "",
		"addressFields": []
	},
	"caption": {
		"English": "Lease Due Pub"
	}
}